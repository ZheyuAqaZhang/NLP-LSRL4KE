# Narative-based Dataset Guide

## Overview

This document focuses on the three key fields in the dataset:
- **`question`** - The prompt asking about the story
- **`answer_choices`** - Multiple choice options with types and correctness
- **`counterfact`** - Generated global counterfactual fact explaining state change

---

## Field Structures

### 1. Question Field

```json
{
  "question": "Here are the story lines:\nJimmy was working on his roof on a hot afternoon.\nHe went to step on a part of the roof and stepped on a soft spot.\nHis foot went straight through the roof and he got stuck.\nJimmy spent 45 minutes trying to get loose.\nEventually his wife came home and helped him out.\n\nQuestion: Based on the globally defined rules, how does the story evolve?"
}
```

**Format:**
- Presents all 5 original story lines
- Ends with a question prompt asking students to determine how the story evolves
- Implicitly tests understanding of implicit assertions in the narrative

**Purpose:**
- Provides context for the multiple choice question
- Tests whether the student can identify the correct assertion from the story

---

### 2. Answer Choices Field

```json
{
  "answer_choices": [
    {
      "text": "I cared what others thought.",
      "type": "misapplied_rule_distractor"
    },
    {
      "text": "Jim is not yet in a relationship.",
      "type": "near_miss_distractor"
    },
    {
      "text": "Jim is married.",
      "type": "standard_trap"
    },
    {
      "text": "Jim is unmarried.",
      "type": "correct"
    }
  ],
  "correct_choice_index": 3
}
```

**Answer Choice Types:**

| Type | Description | Example |
|------|-------------|---------|
| **`correct`** | The right answer (index 3 in most cases) | "Jim is unmarried" |
| **`standard_trap`** | Directly contradicts the counterfact; common wrong answer | "Jim is married" (original state) |
| **`near_miss_distractor`** | Partially correct but not the counterfact | "Jim is not yet in a relationship" |
| **`misapplied_rule_distractor`** | Irrelevant or semantically unrelated | "I cared what others thought" |

**Fields:**
- **`text`** - The answer choice text
- **`type`** - Classification of the choice
- **`correct_choice_index`** - 0-indexed position of correct answer (usually 3)

---

### 3. Counterfact Field

```json
{
  "counterfact": "All marriage ceremonies worldwide have been temporarily banned due to a global pandemic of mythical creatures that interfere with wedding rituals."
}
```

**Characteristics:**
- Generated by an LLM (Qwen2.5-7B-Instruct)
- Explains WHY the story state changed
- Global-scale assumption (e.g., "All... worldwide...")
- Counterfactual - describes a world different from reality
- Directly addresses the modified assertion

**Examples:**

| State → Modify State | Generated Counterfact |
|---------------------|----------------------|
| "Jim is married" → "Jim is unmarried" | "All marriage ceremonies worldwide have been temporarily banned due to a global pandemic of mythical creatures..." |
| "His wife is able to assist" → "His wife is unable to assist" | "All global telecommunications systems suddenly went silent for 30 minutes." |
| "Tina is squeamish" → "Tina is not squeamish" | "A global health crisis has completely desensitized all humans to horrific sights..." |

---

## Related Fields

### State and Modify State

```json
{
  "state": "Jim is married.",
  "modify_state": "Jim is unmarried.",
  "counterfact": "All marriage ceremonies worldwide have been temporarily banned..."
}
```

- **`state`** - Original implicit assertion from the story
- **`modify_state`** - Counterfactual assertion (what would need to be true)
- **`counterfact`** - The generated explanation for the state change

---
